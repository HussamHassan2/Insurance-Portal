<div class="space-y-4">
    <div (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)"
        [ngClass]="isDragging ? 'border-primary bg-primary/5' : 'border-gray-300 dark:border-gray-600'"
        class="border-2 border-dashed rounded-lg p-8 text-center transition-colors">
        <input #fileInput type="file" [accept]="accept" [multiple]="multiple" (change)="onFileSelect($event)"
            class="hidden" />

        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="mx-auto h-12 w-12 text-gray-400 mb-4">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" x2="12" y1="3" y2="15"></line>
        </svg>

        <p class="text-gray-600 dark:text-gray-400 mb-2">
            Drag and drop files here, or
            <button type="button" (click)="fileInput.click()" class="text-primary hover:underline">
                browse
            </button>
        </p>
        <p class="text-sm text-gray-500 dark:text-gray-500">
            Maximum file size: {{ maxSize / 1024 / 1024 }}MB
        </p>
    </div>

    <div *ngIf="selectedFiles.length > 0" class="space-y-2">
        <div *ngFor="let file of selectedFiles; let i = index"
            class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
            <div class="flex items-center gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="h-5 w-5 text-gray-500">
                    <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path>
                    <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
                </svg>
                <div>
                    <p class="text-sm font-medium text-gray-900 dark:text-white">{{ file.name }}</p>
                    <p class="text-xs text-gray-500 dark:text-gray-400">{{ getFileSize(file.size) }}</p>
                </div>
            </div>
            <button type="button" (click)="removeFile(i)" class="text-red-500 hover:text-red-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="h-5 w-5">
                    <path d="M18 6 6 18"></path>
                    <path d="m6 6 12 12"></path>
                </svg>
            </button>
        </div>
    </div>
</div>